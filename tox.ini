[tox]
envlist = py27,py3{5,6,7},py{27,35}-flake8

[testenv]
commands =
    {envpython} -m compileall roulier
    pytest --cov-config=.coveragerc --cov=roulier tests/ # substitute with tox' positional arguments
deps =
    pytest-cov
    pytest
    coverage

[testenv:py{27,35}-flake8]
commands =
    flake8
deps =
    flake8

# Flake8 Configuration
[flake8]
# Ignore some flake8-docstrings errors
# NOTE(sigmavirus24): While we're still using flake8 2.x, this ignore line
# defaults to selecting all other errors so we do not need select=E,F,W,I,D
# Once Flake8 3.0 is released and in a good state, we can use both and it will
# work well \o/
ignore = D203, W503, E203
max-line-length = 99
exclude =
    .tox,
    .git,
    __pycache__,
    docs/source/conf.py,
    build,
    dist,
    tests/fixtures/*,
    *.pyc,
    *.egg-info,
    .cache,
    .eggs
